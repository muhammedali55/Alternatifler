// Copyright 2013 efValidate by Fireform.

(function(a){a.fn.efValidate=function(b){var b=a.extend({name:".ef-name",email:".ef-email",message:".ef-message",sliderInput:".ef-contact-slider",formAlert:".ef-form-alert"},b);return this.each(function(){var l=jQuery(this);var k=l.find(b.name);var j=l.find(b.email);var m=l.find(b.message);var c=l.find(b.sliderInput);var f=l.find(b.formAlert);c.slider({value:0,max:100,change:g});k.blur(i);j.blur(d);m.blur(e);c.click(g);var h=l.find(":input").filter(":not(:submit)").filter(":not(:checkbox)").filter(":not([type=hidden])").filter(":not([validate=false])");l.submit(function(){if(i()&d()&e()&g()){var p=k.val();var n=j.val();var o=m.val();ef.ajax({type:"POST",url:"get_mail.php",data:l.serialize(),success:function(q){f.hide();f.prepend(q).fadeIn("normal");l.find("textarea, input:not(.button)").val("").removeClass("valid");c.slider("value",0).removeClass("error")}});return false}else{return false}});function d(){var n=j.val();var o=/^[a-zA-Z0-9_\.\-]+\@([a-zA-Z0-9\-]+\.)+[a-zA-Z0-9]{2,4}$/;if(o.test(n)){j.removeClass("error").addClass("valid");return true}else{j.addClass("error").removeClass("valid");return false}}function i(){if(!k.val()){k.addClass("error").removeClass("valid");return false}else{k.removeClass("error").addClass("valid");return true}}function e(){if(!m.val()){m.addClass("error").removeClass("valid");return false}else{m.removeClass("error").addClass("valid");return true}}function g(){if(c.slider("value")<=80){c.addClass("error").removeClass("valid");return false}else{c.removeClass("error").addClass("valid");return true}}})}})(jQuery);